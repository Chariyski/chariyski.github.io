/*! Copyright (c) 2016 Jeremias Menichelli
 *  https://github.com/jeremenichelli/intersection-observer-polyfill
 */
!function(e){"use strict";if(!("IntersectionObserver"in e)){var n=e.innerHeight,t=Date.now(),r="Failed to construct 'Intersection': ",o="Failed to execute 'observe': ",i="Failed to execute 'unobserve': ",s=e.requestAnimationFrame,l=function(){return e.performance&&e.performance.now?performance.now():Date.now()-t},c=function(t,c){function a(e){for(var r,o,i=e?[e]:f,s=i.length,c=[];s;)--s,r=i[s],o=r.getBoundingClientRect(),o.top<n&&o.top>=-o.height&&c.push({boundingClientRect:o,target:r,time:l()});t(c),i=s=c=r=o=null,d=!1}function h(){d||s(a.bind(e,null)),d=!0}if("function"!=typeof t)throw new TypeError(r+"The callback provided as parameter 1 is not a function");var u=c||{root:null,threshold:[0]};if("number"==typeof u.threshold&&(u.threshold=[u.threshold]),u.threshold[0]>1||u.threshold[0]<0)throw new RangeError(r+"Threshold values must be between 0 and 1");var f=[],d=!1;this.observe=function(n){if(!(n instanceof e.Element))throw new TypeError(o+"parameter 1 is not of type 'Element'");0===f.length&&e.addEventListener("scroll",h),f.push(n),a(n)},this.unobserve=function(n){if(!(n instanceof e.Element))throw new TypeError(i+"parameter 1 is not of type 'Element'");var t=f.indexOf(n);-1!==t&&f.splice(t,1),0===f.length&&e.removeEventListener("scroll",h)},this.disconnect=function(){e.removeEventListener("scroll",h)}};e.addEventListener("resize",function(){n=e.innerHeight}),e.IntersectionObserver=c}}(window);
